"use strict";angular.module("clientApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","ngStorage","ui.bootstrap"]).config(["$routeProvider","$locationProvider",function(a,b){a.when("/",{templateUrl:"views/home.html",controller:"HomeController",controllerAs:"main"}).when("/login",{templateUrl:"views/login.html",controller:"LoginController",controllerAs:"login"}).when("/register",{templateUrl:"views/register.html",controller:"RegisterController",controllerAs:"register"}).when("/restaurant",{templateUrl:"views/restaurant.html",controller:"RestaurantController",controllerAs:"restaurant"}).when("/reservation",{templateUrl:"views/reservation.html",controller:"ReservationController"}).when("/restaurants",{templateUrl:"views/restaurants.html",controller:"RestaurantsController"}).when("/myreservations",{templateUrl:"/views/myreservations.html",controller:"MyReservationsController"}).otherwise({redirectTo:"/"}),b.hashPrefix("")}]).run(["$rootScope","$http","$location","$localStorage",function(a,b,c,d){d.currentUser&&(b.defaults.headers.common.Authorization="Bearer "+d.currentUser.token),a.$on("$locationChangeStart",function(){var a=["/login","/","","/register","/restaurant","/reservation","/restaurants"],b=-1===a.indexOf(c.path());b&&!d.currentUser&&c.path("/login")})}]),angular.module("clientApp").controller("HomeController",["$scope","$http","SessionStorageService","$location","RestaurantService",function(a,b,c,d,e){a.dishes=[{heading:"Best pizza of 2016",location:"New York",numRestaurants:43},{heading:"Best cevapi",location:"Sarajevo",numRestaurants:28},{heading:"Fresh and Spicy",location:"Philladelphia",numRestaurants:16},{heading:"Best baklava",location:"New York",numRestaurants:43},{heading:"Best burek",location:"Sarajevo",numRestaurants:28},{heading:"Fresh and Spicy 2",location:"Philladelphia",numRestaurants:16}],a.numberRepeat=Math.ceil(a.dishes.length/3),a.range=function(a){for(var b=[],c=0;a>c;c++)b.push(c);return b},a.save=function(a){c.save("restaurantId",JSON.stringify({id:a.id})),d.path("/restaurant")},e.getRandomRestaurants().then(function(b){a.restaurants=b.data})}]).controller("PopularLocationsController",["$scope","RestaurantService","SessionStorageService","$location",function(a,b,c,d){b.getRestaurantLocations().then(function(b){a.popularLocations=b.data}),a.filterLocations=function(a){c.save("locationSearch",JSON.stringify(a)),d.path("/restaurants")}}]).directive("resize",["$window",function(a){return function(b){var c=angular.element(a);b.getWindowDimensions=function(){return{w:c.width()}},b.$watch(b.getWindowDimensions,function(a){b.windowWidth=a.w,b.style=function(){return{width:a.w-100+"px"}}},!0),c.bind("resize",function(){b.$apply()})}}]),angular.module("clientApp").controller("NavigationController",["$scope","$location","$localStorage","AuthenticationService",function(a,b,c,d){a.isLoged=function(){return c.currentUser},a.isAdmin=function(){var a=c.currentUser.token,b=a.split(".")[1],d=b.replace("-","+").replace("_","/"),e=JSON.parse(atob(d));return"admin"===e.user_type.toString()},a.Logout=function(){d.Logout()},a.isActive=function(a){return a===b.path()}}]),angular.module("clientApp").controller("LoginController",["$log","$scope","$location","AuthenticationService","SessionStorageService","$window",function(a,b,c,d,e,f){function g(){d.Logout()}f.scrollTo(0,0),b.$watchGroup(["email","password"],function(){b.error=null}),g(),b.loginSubmit=function(a){if(a){var g={email:b.email,password:b.password};b.loading=!0,d.Login(g.email,g.password,function(a){if(b.loading=!1,a===!0)if(e.get("goBackReservation")){e["delete"]("goBackReservation"),e.save("reservationStartTime",new Date);var d=JSON.parse(e.get("reservationInformation"));d.active=!0,e.save("reservationInformation",JSON.stringify(d)),f.history.back()}else e.get("goBack")?(e["delete"]("goBack"),f.history.back()):c.path("/");else b.error="Username or password is incorrect"})}}}]),angular.module("clientApp").controller("RegisterController",["$scope","$http","$location","AuthenticationService",function(a,b,c,d){b.get("jsonexp/locations.json").then(function(b){a.locations=b.data}),a.$watchGroup(["email"],function(){a.error=null}),a.registerSubmit=function(b){if(b){var e={email:a.email,firstName:a.firstName,lastName:a.lastName,phone:a.phone,country:a.country.country_name,city:a.city,password:a.password};a.confirmPassword=null,a.password=null,a.loading=!0,d.Register(e,function(b){a.loading=!1,b?c.path("/login"):a.error="Selected e-mail is already in use!"})}}}]),angular.module("clientApp").factory("AuthenticationService",["$http","$localStorage","$log",function(a,b,c){function d(c,d,e){a.post("https://ridvansrestaurantserver.herokuapp.com/app/login",{email:c,password:d}).then(function(c){c.headers("Authorization")?(b.currentUser={currentUser:c,token:c.headers("Authorization")},a.defaults.headers.common.Authorization="Bearer "+c.headers("Authorization"),e(!0)):e(!1)})["catch"](function(){e(!1)})}function e(b,c){a.post("https://ridvansrestaurantserver.herokuapp.com/app/register",b).then(function(a){c(a.data)})["catch"](function(a){400===a.status&&c(a)})}function f(){delete b.currentUser,a.defaults.headers.common.Authorization=""}var g={};return g.Login=d,g.Register=e,g.Logout=f,g}]),angular.module("clientApp").controller("RestaurantController",["$http","$scope","SessionStorageService","RestaurantService","$uibModalStack","$location","anchorSmoothScroll",function(a,b,c,d,e,f,g){function h(){e.dismissAll()}c["delete"]("reservationStartTime"),d.getAllRestaurantComments(JSON.parse(c.get("restaurantId")).id,function(a){b.reviews=a,b.noReviews=!(b.reviews.length>0)}),b.$on("$locationChangeStart",h),b.goTo=function(a){f.hash(a),g.scrollTo(a)},b.initialize=function(a,c){b.mapOptions={zoom:15,center:new google.maps.LatLng(a,c)},b.map=new google.maps.Map(document.getElementById("map"),b.mapOptions)},b.loadScript=function(a,c){if(window.google)setTimeout(function(){b.initialize(a,c)},500);else{var d=document.createElement("script");d.type="text/javascript",d.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAy1-kceVQSwDE2b8zTxJhkQSJ2UAXKFek",document.body.appendChild(d),setTimeout(function(){b.initialize(a,c)},500)}},b.range=function(a){for(var b=[],c=0;a>c;c++)b.push(c);return b},d.getRestaurantDetails(JSON.parse(c.get("restaurantId")).id).then(function(a){b.restaurant=a.data,b.loadScript(b.restaurant.latitude,b.restaurant.longitude)})}]).controller("ReviewController",["$scope","$uibModal","$document","$location","$localStorage","RestaurantService","SessionStorageService",function(a,b,c,d,e,f,g){var h=this;h.animationsEnabled=!0,h.open=function(a,i){if(e.currentUser){var j=i?angular.element(c[0].querySelector(".modal-demo "+i)):void 0,k=b.open({animation:h.animationsEnabled,ariaLabelledBy:"modal-title",ariaDescribedBy:"modal-body",templateUrl:"myModalContent.html",controller:"ModalInstanceController",controllerAs:"$ctrl",size:a,appendTo:j});k.result.then(function(a){a={comment:a.comment,mark:a.mark,idUser:e.currentUser.currentUser.data.id,idRestaurant:JSON.parse(g.get("restaurantId")).id},f.insertComment(a)},function(){})}else g.save("goBack",!0),d.path("/login")}}]).controller("ModalInstanceController",["$uibModalInstance","$scope",function(a,b){var c=this;b.rate=3,b.review="",c.ok=function(){var c={comment:b.review,mark:b.rate};a.close(c)},c.cancel=function(){a.dismiss("cancel")}}]).controller("MenuController",["$scope","RestaurantService","SessionStorageService",function(a,b,c){var d=this;a.arrayDishes=[],d.getMenu=function(d){b.getMenu(d.toString(),JSON.parse(c.get("restaurantId")).id).then(function(b){var c=b.data,d=[],e=[];c.forEach(function(a){d.includes(a.dishType)?e.forEach(function(b){b[0].dishType===a.dishType&&b.push(a)}):(d.push(a.dishType),e.push(new Array(0)),e[e.length-1].push(a))}),a.arrayDishes=e})},d.text="Show full menu",d.tick=!1,d.showMenu=function(){d.tick?(d.text="Show full menu",d.tick=!1,d.myHeight="350px"):(d.text="See less",d.tick=!0,d.myHeight="none")},d.getMenu("Dinner")}]).service("anchorSmoothScroll",function(){this.scrollTo=function(a){function b(){return self.pageYOffset?self.pageYOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop?document.body.scrollTop:0}var c=b(),d=document.getElementById(a).offsetTop+200,e=d>c?d-c:c-d;if(100>e)return void scrollTo(0,d);var f=18,g=Math.round(e/25),h=d>c?c+g:c-g,i=0;if(d>c)for(var j=c;d>j;j+=g)setTimeout("window.scrollTo(0, "+h+")",i*f),h+=g,h>d&&(h=d),i++;else for(var j=c;j>d;j-=g)setTimeout("window.scrollTo(0, "+h+")",i*f),h-=g,d>h&&(h=d),i++}}),angular.module("clientApp").service("ShareDataService",function(){var a;this.addData=function(b){a=b},this.getData=function(){return a}}),angular.module("clientApp").factory("RestaurantService",["$http",function(a){return{getMenu:function(b,c){return a.post("https://ridvansrestaurantserver.herokuapp.com/app/getRestaurantMenu",{idRestaurant:c,type:b})},getRandomRestaurants:function(){return a.get("https://ridvansrestaurantserver.herokuapp.com/app/getRandomRestaurants")},getRestaurantLocations:function(){return a.get("https://ridvansrestaurantserver.herokuapp.com/app/getRestaurantLocations")},getRestaurantDetails:function(b){return a.post("https://ridvansrestaurantserver.herokuapp.com/app/getRestaurantDetails",{Id:b})},insertComment:function(b){return a.post("https://ridvansrestaurantserver.herokuapp.com/app/insertComment",{mark:b.mark,comment:b.comment,idUser:b.idUser,idRestaurant:b.idRestaurant})},getAllRestaurantComments:function(b,c){a.post("https://ridvansrestaurantserver.herokuapp.com/app/getAllRestaurantComments",{idRestaurant:b}).then(function(a){c(a.data)})["catch"](function(a){400===a.status&&c(a.data)})}}}]),angular.module("clientApp").factory("SessionStorageService",["$window",function(a){return{get:function(b){return a.sessionStorage.getItem(b)},save:function(b,c){a.sessionStorage.setItem(b,c)},"delete":function(b){a.sessionStorage.removeItem(b)}}}]),angular.module("clientApp").controller("ReservationBarController",["$scope","SessionStorageService","ShareDataService","$location","ReservationService","$localStorage",function(a,b,c,d,e,f){a.dateToday=new Date,a.maxDate=(new Date).setMonth(a.dateToday.getMonth()+4),a.minDate=new Date,a.selectedDate=new Date,a.selectedDate.getDate()===a.dateToday.getDate()&&new Date<=(new Date).setHours(21,0,0)&&new Date>=(new Date).setHours(9,0,0)?a.minTime=(new Date).setHours((new Date).getHours()+1,0,0):(a.minTime=(new Date).setHours(9,0,0),a.minDate.setDate(a.dateToday.getDate()+1),a.selectedDate.setDate(a.dateToday.getDate()+1)),a.$watch("selectedDate",function(){a.AvailabilityErrorColapsed=!0,a.AvailabilityInfoColapsed=!0,void 0!==a.selectedDate&&(a.selectedDate.getDate()===a.dateToday.getDate()&&new Date<=(new Date).setHours(21,0,0)&&new Date>=(new Date).setHours(9,0,0)?a.minTime=(new Date).setHours((new Date).getHours()+1,0,0):(a.minTime=(new Date).setHours(9,0,0),a.minDate.setDate(a.dateToday.getDate()+1)))}),a.$watchGroup(["selectedNumber","selectedTime","selectedLength"],function(){a.AvailabilityErrorColapsed=!0,a.AvailabilityInfoColapsed=!0}),a.AvailabilityErrorColapsed=!0,a.AvailabilityInfoColapsed=!0,a.checkReservation=function(){a.reservationCheckPayload={persons:Number(a.selectedNumber.toString().substring(0,1)),reservationDate:a.selectedDate.toLocaleDateString("en-GB"),reservationHour:a.selectedTime.getHours()+":"+a.selectedTime.getMinutes(),idRestaurant:JSON.parse(b.get("restaurantId")).id,lengthOfStay:Number(a.selectedLength.toString().substring(0,3))},e.checkReservationAvailability(a.reservationCheckPayload,function(b){b.tablesLeft?(a.tablesLeft=b.tablesLeft,a.bestTimes=b.bestTime,a.AvailabilityInfoColapsed=!1):b?(a.AvailabilityErrorColapsed=!1,a.error=b):a.error="Something went wrong."}),a.proceedReservation=function(c){a.reservationCheckPayload.reservationHour=c,b.save("payloadApi",JSON.stringify(a.reservationCheckPayload)),a.reservationCheckPayload.reservationDate=a.selectedDate,a.reservationCheckPayload.persons=a.selectedNumber,f.currentUser&&(a.reservationCheckPayload.active=!0,b.save("reservationStartTime",new Date)),b.save("reservationInformation",JSON.stringify(a.reservationCheckPayload)),d.path("/reservation")}},a.numberPeople=["1 Person","2 People","3 People","4 People","5 People","6 People","7 People","8 People"],a.numberMinutes=["15 minutes","30 minutes","45 minutes","60 minutes","90 minutes","120 minutes"],a.searchHome="",a.homeSearch=function(){a.reservationCheckPayload={persons:Number(a.selectedNumber.toString().substring(0,1)),reservationDate:a.selectedDate.toLocaleDateString("en-GB"),reservationHour:a.selectedTime.getHours()+":"+a.selectedTime.getMinutes(),lengthOfStay:Number(a.selectedLength.toString().substring(0,3))},a.filterPayload={searchText:a.searchHome,reservationInfo:a.reservationCheckPayload},b.save("homeSearch",JSON.stringify(a.filterPayload)),d.path("/restaurants")}}]).controller("ReservationController",["$scope","ShareDataService","$timeout","$templateCache","$window","$localStorage","$log","SessionStorageService","$location","RestaurantService","ReservationService",function(a,b,c,d,e,f,g,h,i,j,k){h.get("reservationInformation")||i.path("/"),a.information=JSON.parse(h.get("reservationInformation")),j.getRestaurantDetails(JSON.parse(h.get("restaurantId")).id).then(function(b){a.restaurantNameImage=b.data}),a.$on("$routeChangeStart",function(b){a.information.active&&(e.confirm("The reservation is not completed! Leave?")?(k.deleteTemporaryReservation(JSON.parse(h.get("tempReservationId"))),a.finishSession(),c.cancel(a.seconds)):b.preventDefault())}),a.userLogged=!1,f.currentUser&&(a.currentUser=f.currentUser.currentUser.data.id,a.userLogged=!0,JSON.parse(h.get("reservationInformation")).active&&!h.get("tempReservationId")&&k.makeTemporaryReservation(JSON.parse(h.get("payloadApi")),function(b){b.id?h.save("tempReservationId",b.id):(e.alert("The reservation has just been booked!"),a.finishSession(),c.cancel(a.seconds))}),a.information.active?(a.startTime=new Date(h.get("reservationStartTime")),a.counter=180-Math.floor(Math.abs(new Date-a.startTime)/1e3)):a.counter=0,a.request="",a.reservationSubmit=function(){c.cancel(a.seconds),a.loading=!0;var b={idReservation:JSON.parse(h.get("tempReservationId")),request:this.request};c(function(){k.updateToFixed(b,function(b){a.loading=!1}),a.finishSession(),e.history.back()},2e3)},a.onTimeout=function(){a.counter--,0===a.counter&&(k.deleteTemporaryReservation(JSON.parse(h.get("tempReservationId"))),a.finishSession(),c.cancel(a.seconds)),a.seconds=c(a.onTimeout,1e3)},a.finishSession=function(){h["delete"]("payloadApi"),h["delete"]("tempReservationId"),h["delete"]("reservationStartTime"),a.information.active=!1,h.save("reservationInformation",JSON.stringify(a.information))},a.seconds=c(a.onTimeout,1e3))}]).controller("SubmitReservationController",["$scope","$http","AuthenticationService","$location","ReservationService","SessionStorageService",function(a,b,c,d,e,f){a.information=JSON.parse(f.get("reservationInformation")),a.signInClick=function(){f.save("goBackReservation",!0),d.path("/login")},b.get("jsonexp/locations.json").then(function(b){a.locations=b.data}),a.registerSubmit=function(b){if(b){var e={email:a.email,firstName:a.firstName,lastName:a.lastName,phone:a.phone,country:a.country.country_name,city:a.city,password:a.password};a.confirmPassword=null,a.password=null,a.loading=!0,c.Register(e,function(b){a.loading=!1,b.status?a.error=b.data:(f.save("goBackReservation",!0),d.path("/login"))})}}}]),angular.module("clientApp").factory("ReservationService",["$http",function(a){return{checkReservationAvailability:function(b,c){a.post("https://ridvansrestaurantserver.herokuapp.com/app/checkReservationAvailability",b).then(function(a){c(a.data)})["catch"](function(a){400===a.status&&c(a.data)})},makeTemporaryReservation:function(b,c){a.post("https://ridvansrestaurantserver.herokuapp.com/app/makeReservation",b).then(function(a){c(a.data)})["catch"](function(a){400===a.status&&c(a.data)})},deleteTemporaryReservation:function(b,c){a.post("https://ridvansrestaurantserver.herokuapp.com/app/deleteReservation",{idReservation:b}).then(function(a){c(a)})["catch"](function(a){400===a.status&&c(a.data)})},updateToFixed:function(b,c){a.post("https://ridvansrestaurantserver.herokuapp.com/app/setReservationToFixed",b).then(function(a){c(a)})["catch"](function(a){400===a.status&&c(a.data)})},getUserReservations:function(b){a.get("https://ridvansrestaurantserver.herokuapp.com/app/getListOfReservationsForUser").then(function(a){b(a)})["catch"](function(a){400===a.status&&b(a.data)})}}}]),angular.module("clientApp").controller("RestaurantsController",["FilterFactoryServis","$scope","SessionStorageService","$location","$window","RestaurantService",function(a,b,c,d,e,f){function g(a){for(var b,c=[],d=document.getElementById(a).options.length,e=0;d>e;e++)b=document.getElementById(a).options[e],b.selected&&c.push(b.label);return c}f.getRestaurantLocations().then(function(a){b.popularLocations=a.data}),b.filterLocations=function(a){b.searchText=a,b.filter()},b.range=function(a){for(var b=[],c=0;a>c;c++)b.push(c);return b},b.save=function(a){c.save("restaurantId",JSON.stringify({id:a.id})),d.path("/restaurant")},b.searchText="",b.reservationInfo=null,b.pageNumber=1,b.maxSize=5,b.bigCurrentPage=1,b.rate=null,b.price=null,b.categoriesLeft=[],b.categoriesRight=[],c.get("homeSearch")&&(b.reservationInfo=JSON.parse(c.get("homeSearch")).reservationInfo,b.searchText=JSON.parse(c.get("homeSearch")).searchText,c["delete"]("homeSearch")),c.get("locationSearch")&&(b.searchText=JSON.parse(c.get("locationSearch")),c["delete"]("locationSearch")),b.filter=function(){b.loading=!0,b.searchPayload={itemsPerPage:9,pageNumber:b.bigCurrentPage,searchText:b.searchText,reservationInfo:b.reservationInfo,mark:b.rate,priceRange:b.price,categories:g("categorymultipleright").concat(g("categorymultipleleft"))},a.getFilterResult(b.searchPayload,function(a){0!==a.numberOfRestaurantPages?(b.numPages=9*a.numberOfRestaurantPages,b.restaurants=a.restaurants,b.noResults=!1):b.noResults=!0,e.scrollTo(0,0),b.loading=!1})},b.filter(),document.getElementById("categorymultipleright").onmousedown=function(a){a.preventDefault(),a.target.selected=!a.target.selected},document.getElementById("categorymultipleleft").onmousedown=function(a){a.preventDefault(),a.target.selected=!a.target.selected},a.getAllCategories(function(a){b.categories={left:a.splice(0,Math.ceil(a.length/2)),right:a}})}]),angular.module("clientApp").factory("FilterFactoryServis",["$http",function(a){return{getFilterResult:function(b,c){a.post("https://ridvansrestaurantserver.herokuapp.com/app/getRestaurantsByFilter",b).then(function(a){c(a.data)})["catch"](function(a){400===a.status&&c(a.data)})},getAllCategories:function(b){a.get("https://ridvansrestaurantserver.herokuapp.com/app/getAllCategories").then(function(a){b(a.data)})["catch"](function(a){400===a.status&&b(a.data)})}}}]),angular.module("clientApp").controller("MyReservationsController",["ReservationService","$scope","$window",function(a,b,c){b.noReservationsActive=!1,b.noReservationsPast=!1,b.reservation=null,b.loading=!0,a.getUserReservations(function(a){b.userReservations=a.data,b.loading=!1,0===b.userReservations.activeReservations.length&&(b.noReservationsActive=!0),0===b.userReservations.pastReservations.length&&(b.noReservationsPast=!0)}),b.pick=function(a){b.reservation=a,c.scrollTo(0,0)}}]),angular.module("clientApp").run(["$templateCache",function(a){a.put("views/footer.html",'<div class="container"> <div class="row"> <div class="col-sm-12 col-md-6"> <ul class="list-inline text-left"> <li> <a href="#/" class="footer-left">Privacy Policy</a> </li> <li> <a href="#/" class="footer-left">Terms of use</a> </li> <li> <a href="#/" class="footer-left">Sitemap</a> </li> <li> <a href="#/" class="footer-left">Mobile site</a> </li> </ul> </div> <div class="col-sm-12 col-md-6 right-footer-col"> <ul class="list-inline"> <li> <a href="#/" class="footer-right">About Us</a> </li> <li> <a href="#/" class="footer-right">Blog</a> </li> <li> <a href="#/" class="footer-right">Careers</a> </li> <li> <a href="#/" class="footer-right">Press</a> </li> <li> <a href="#/" class="footer-right">Advertise</a> </li> </ul> </div> </div> <a class="footer-left">Copyright © 2016 All rights reserved.</a> </div>'),a.put("views/header.html",'<div class="navbar navbar-fixed-top navbar-inverse" role="navigation"> <div class="container"> <div class="navbar-header"> <button type="button" class="navbar-toggle collapsed no-border" data-toggle="collapse" data-target="#js-navbar-collapse"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <a class="navbar-brand" href="#/">Restaurant</a> </div> <div class="collapse navbar-collapse navbar-right no-border" ng-controller="NavigationController" id="js-navbar-collapse"> <ul class="nav navbar-nav"> <li ng-class="{ active: isActive(\'/\')}"><a href="#/">Home</a></li> <li ng-class="{ active: isActive(\'/restaurants\')}"><a href="#/restaurants">Restaurants</a></li> <li ng-if="!isLoged()" ng-class="{ active: isActive(\'/login\')}"><a href="#/login">Login</a></li> <li ng-if="isLoged()" ng-class="{ active: isActive(\'/myreservations\')}"><a href="#/myreservations">My reservations</a></li> <li ng-if="isLoged() && isAdmin()" ng-class="{ active: isActive(\'/adminpanel\')}"><a href="#/">Admin</a></li> <li ng-if="isLoged()" ng-click="Logout()"><a href="#/">Logout</a></li> </ul> </div> </div> </div>'),a.put("views/home.html",'<body> <div class="home-masthead text-center"> <div class="container"> <div class="row"> <div class="col-xs-12"> <h1>Make a free reservation </h1> <h3 class="container-h3">Choose your table from n restaurants near you</h3> <form ng-controller="ReservationBarController as $ctrl" ng-submit="homeSearch()"> <div class="row no-gutters form-row"> <div class="col-sm-12 col-md-4"> <input type="search" class="form-control home-form-control form-control-lg" ng-model="searchHome" placeholder="Location, Restaurant or Cousine "> </div> <div class="col-xs-12 col-sm-6 col-md-2"> <select class="custom-select form-control home-form-control" ng-model="selectedNumber" ng-options="people for people in numberPeople" required> <option value="" selected disabled>Number of guests</option> </select> </div> <div class="col-xs-12 col-sm-6 col-md-2"> <input type="date" class="form-control home-form-control" ng-model="selectedDate" min="{{minDate | date:\'yyyy-MM-dd\'}}" max="{{maxDate | date:\'yyyy-MM-dd\'}}" value="{{selectedDate  | date:\'yyyy-MM-dd\'}}"> </div> <div class="col-xs-12 col-sm-6 col-md-2"> <input type="time" class="form-control home-form-control" ng-model="selectedTime" step="900" min="{{minTime | date:\'HH:mm\'}}" max="22:00" value="{{selectedTime| date:\'HH:mm\'}}" required> </div> <div class="col-xs-12 col-sm-6 col-md-2"> <select class="custom-select form-control home-form-control" ng-model="selectedLength" ng-options="minutes for minutes in numberMinutes" required> <option value="" selected disabled>Duration (minutes)</option> </select> </div> <div class="col-xs-12 col-sm-12 col-md-2 col-md-offset-5 col-submit"> <button type="submit" class="btn btn-home btn-block btn-primary form-btn">Find a table</button> </div> </div> </form> </div>  </div> </div> </div>  <div class="container text-center container-restaurants"> <h3 class="container-h3" resize>Popular for Lunch Today </h3> <div uib-carousel ng-if="windowWidth <755" active="1"> <div uib-slide ng-repeat="y in restaurants" index="$index"> <div class="card"> <img ng-src="{{y.imageFileName}}"> <div class="container"> <h3 class="container-h3"> {{y.restaurantName}} </h3> <ul class="list list-inline"> <li class="middle"> <span class="glyphicon glyphicon-star" ng-repeat="n in range(y.mark)"></span><span class="glyphicon glyphicon-star-empty" ng-repeat="n in range(5-y.mark)"></span> </li> <li> <span>({{y.votes}})</span> </li> <li class="middle"> <span class="glyphicon glyphicon-usd dolar-full" ng-repeat="n in range(y.priceRange)"></span><span class="glyphicon glyphicon-usd dolar-empty" ng-repeat="n in range(5-y.priceRange)"></span> </li> </ul> <hr> <p style="color: gray"> {{y.foodType}} </p> </div> <button type="button" class="btn btn-home btn-block" ng-click="save(y)">Reserve Now</button> </div> </div> </div> <div class="row" ng-if="windowWidth >755"> <div class="col-sm-6 col-md-4" ng-repeat="y in restaurants"> <div class="card"> <img ng-src="{{y.imageFileName}}"> <div class="container"> <h3 class="container-h3"> {{y.restaurantName}} </h3> <ul class="list list-inline"> <li class="middle"> <span class="glyphicon glyphicon-star" ng-repeat="n in range(y.mark)"></span><span class="glyphicon glyphicon-star-empty" ng-repeat="n in range(5-y.mark)"></span> </li> <li> <span>({{y.votes}})</span> </li> <li class="middle"> <span class="glyphicon glyphicon-usd dolar-full" ng-repeat="n in range(y.priceRange)"></span><span class="glyphicon glyphicon-usd dolar-empty" ng-repeat="n in range(5-y.priceRange)"></span> </li> </ul> <hr> <p style="color: gray"> {{y.foodType}} </p> </div> <button type="button" class="btn btn-home btn-block" ng-click="save(y)">Reserve Now</button> </div> </div> </div> </div> <div class="home-masthead text-center"> <div class="container"> <h3 class="container-h3">Specials</h3> <div uib-carousel active="0" ng-if="windowWidth >755"> <div uib-slide ng-repeat="n in range(numberRepeat)" index="$index"> <div class="col-sm-4" ng-repeat="dish in [dishes[$index*3], dishes[1+$index*3], dishes[2+$index*3]] track by $index"> <div class="card-blog" ng-if="dish.heading"> <img src="images/sampleprofile.fcd11bcf.jpg"> <div class="container" style="color: whitesmoke"> <h3 class="heading-blog container-h3"> {{dish.heading}}</h3> <ul class="list list-inline"> <li> <p>{{dish.location}}</p> </li> <li> <p>|</p> </li> <li> <p>{{dish.numRestaurants}} restaurants</p> </li> </ul> </div> </div> </div> </div> </div> <div uib-carousel active="0" ng-if="windowWidth <755"> <div uib-slide ng-repeat="dish in dishes" index="$index"> <div class="col-sm-4"> <div class="card-blog"> <img src="images/sampleprofile.fcd11bcf.jpg"> <div class="container" style="color: whitesmoke"> <h3 class="heading-blog container-h3"> {{dish.heading}}</h3> <ul class="list list-inline"> <li> <p>{{dish.location}}</p> </li> <li> <p>|</p> </li> <li> <p>{{dish.numRestaurants}} restaurants</p> </li> </ul> </div> </div> </div> </div> </div> </div> </div> <div ng-controller="PopularLocationsController" class="container popular-loc"> <h3 class="text-center container-h3">Popular locations</h3> <div class="row popular-locations-row"> <div class="col-xs-6 col-sm-3 col-md-3 text-left" ng-model="name" ng-repeat="name in popularLocations"> <button class="btn-location center-block pop-loc-info" ng-click="filterLocations(name.location)"> <h4>{{name.location}}</h4> <p class="number">{{name.num}} restaurants</p> </button> </div> </div> </div> </body>'),a.put("views/login.html",'<body> <div class="container container-form"> <form name="loginForm" ng-submit="loginSubmit(loginForm.$valid)" novalidate> <ul class="list list-inline"> <li> <h3 class="login-h3">Login</h3> </li> <li class="pull-right"> <p><a class="login-a" href="#/register">Create Account</a></p> </li> </ul> <div class="form-group login-form-group" ng-class="{\'has-error\' : loginForm.email.$invalid && !loginForm.email.$pristine }"> <input name="email" class="login-form-control input-lg input-h" type="email" id="email" placeholder="Email" ng-model="email" required> <p ng-show="loginForm.email.$invalid && !loginForm.email.$pristine" class="help-block">Enter a valid email.</p> </div> <div class="bottom"> <input name="password" class="login-form-control input-lg input-h" type="password" id="password" placeholder="Password" ng-model="password" required> </div> <div ng-if="error" class="alert alert-danger">{{error}}</div> <button type="submit" class="btn btn-primary btn-block no-border btn-lg input-h btn-submit" ng-disabled="loginForm.$invalid"> Login </button> <div> <img class="center-block loading" src="../images/ajax-loader.fc2622d3.gif" ng-show="loading"> </div> </form> </div> </body>'),a.put("views/myreservations.html",'<div class="container"> <div class="container cont-my-reservations"> <div> <img class="center-block loading" src="../images/ajax-loader.fc2622d3.gif" ng-show="loading"> </div> <div class="container-card" ng-show="reservation"> <h5 class="reservation-details-head">Reservation Details</h5> <div class="row"> <div class="col-xs-12 col-sm-3"> <div class="profile reservation-prof"> <img ng-src="{{reservation.imageFileName}}"> </div> </div> <div class="col-xs-12 col-sm-9"> <h6 class="reservation-det-name">RESTAURANT</h6> <p class="rest-name">{{reservation.restaurantName}}</p> <div class="row"> <div class="col-xs-12 col-sm-6"> <h6 class="reservation-det-name">GUESTS</h6> <p class="reservation-info">{{reservation.guests}}</p> </div> <div class="col-xs-12 col-sm-6"> <h6 class="reservation-det-name">DURATION</h6> <p class="reservation-info">{{reservation.reservationDuration}} minutes</p> </div> <div class="col-xs-12 col-sm-6"> <h6 class="reservation-det-name">DATE</h6> <p class="reservation-info">{{reservation.reservationDate }}</p> </div> <div class="col-xs-12 col-sm-6"> <h6 class="reservation-det-name">TIME</h6> <p class="reservation-info">{{reservation.reservationHour}}</p> </div> </div> </div> </div> </div> <uib-tabset class="tabs-reservations" active="activeJustified" justified="true"> <uib-tab index="0" heading="Active reservations"> <div class="row row-info"> <div class="col-xs-4"> Restaurant name </div> <div class="col-xs-4"> Date </div> <div class="col-xs-4"> Time </div> </div> <div class="container-reservations-info"> <div class="no-reservations" ng-show="noReservationsActive"> No active reservations! </div> <button class="row-reservation btn-block" ng-repeat="reservationActive in userReservations.activeReservations" ng-click="pick(reservationActive)"> <div class="col-xs-4 col-info"> {{reservationActive.restaurantName}} </div> <div class="col-xs-4 col-info"> {{reservationActive.reservationDate}} </div> <div class="col-xs-4 col-info"> {{reservationActive.reservationHour}} </div> </button> </div> </uib-tab> <uib-tab index="1" heading="Past reservations"> <div class="row row-info"> <div class="col-xs-4"> Restaurant name </div> <div class="col-xs-4"> Date </div> <div class="col-xs-4"> Time </div> </div> <div class="container-reservations-info"> <div class="no-reservations" ng-show="noReservationsPast"> No past reservations! </div> <button class="row-reservation btn-block" ng-repeat="reservationPast in userReservations.pastReservations" ng-click="pick(reservationPast)"> <div class="col-xs-4 col-info"> {{reservationPast.restaurantName}} </div> <div class="col-xs-4 col-info"> {{reservationPast.reservationDate}} </div> <div class="col-xs-4 col-info"> {{reservationPast.reservationHour}} </div> </button> </div> </uib-tab> </uib-tabset> </div> </div>  '),a.put("views/register.html",'<body> <div class="container container-form"> <form name="registerForm" ng-submit="registerSubmit(registerForm.$valid)" novalidate> <ul class="list list-inline"> <li> <h3 class="login-h3">Create Account</h3> </li> <li class="pull-right"> <p3><a class="login-a" href="#/login">Login</a></p3> </li> </ul> <div class="form-group formg"> <input name="firstName" class="login-form-control input-lg input-h" type="text" id="firstName" placeholder="First Name" ng-model="firstName" required> </div> <div class="form-group formg"> <input name="lastName" class="login-form-control input-lg input-h" type="text" id="lastName" placeholder="Last Name" ng-model="lastName" required> </div> <div class="form-group formg" ng-class="{\'has-error\' : registerForm.email.$invalid && !registerForm.email.$pristine}"> <input name="email" class="login-form-control input-lg input-h" type="email" id="email" placeholder="Email" ng-model="email" required> <p ng-show="registerForm.email.$invalid && !registerForm.email.$pristine" class="help-block">Enter a valid email.</p> </div> <div class="form-group formg" ng-class="{\'has-error\' : registerForm.phone.$touched && !registerForm.phone.$pristine && !registerForm.phone.$valid  }"> <input name="phone" class="login-form-control input-lg input-h" type="text" id="phone" placeholder="Phone Number" ng-model="phone" ng-minlength="9" required> <p ng-show="registerForm.phone.$touched && !registerForm.phone.$pristine && !registerForm.phone.$valid" class="help-block">Phone number must be at least 9 cases long.</p> </div> <div class="row no-gutters"> <div class="col-sm-6 formg"> <select class="custom-select login-form-control input-lg input-h" ng-model="country" ng-options="c.country_name for c in locations" required> <option value="" disabled selected>Country</option> </select> </div> <div class="col-sm-6 formg"> <select class="login-form-control input-lg input-h" ng-model="city" ng-options="d.valueOf() for d in country.city_names" required> <option value="" disabled selected>City</option> </select> </div> </div> <div class="form-group formg" ng-class="{\'has-error\' : registerForm.password.$touched && !registerForm.password.$pristine && !registerForm.password.$valid }"> <input name="password" class="login-form-control input-lg input-h" type="password" id="password" placeholder="Password" ng-model="password" required minlength="5"> <p ng-show=" registerForm.password.$touched && !registerForm.password.$pristine && !registerForm.password.$valid" class="help-block">Password needs to be at least 5 characters long!</p> </div> <div class="form-group formg bottom" ng-class="{\'has-error\' : registerForm.confirmPassword.$touched   && confirmPassword!=password || !registerForm.confirmPassword.$pristine && !registerForm.confirmPassword.$valid }"> <input name="confirmPassword" class="login-form-control input-lg input-h" type="password" id="confirmPassword" placeholder="Confirm Password" ng-model="confirmPassword" required> <p ng-show=" registerForm.confirmPassword.$touched  && confirmPassword!=password" class="help-block">Passwords do not match.</p> </div> <div ng-if="error" class="alert alert-danger">{{error}}</div> <button type="submit" class="btn btn-primary btn-block no-border btn-lg input-h btn-submit" ng-disabled="registerForm.$invalid"> Create an account </button> <div> <img class="center-block loading" src="../images/ajax-loader.fc2622d3.gif" ng-show="loading"> </div> </form> </div> </body>'),
a.put("views/reservation.html",'<body> <div class="container"> <div class="row text-center"> <h3 class="head">Complete your reservation</h3> </div> <div class="container-card-reservation"> <div class="row"> <div class="row"> <div class="col-xs-12 col-sm-6"> <h5 class="reservation-details-head reservation-details-head-add">Reservation Details</h5> </div> <div class="col-xs-12 col-sm-6" ng-if="userLogged"> <uib-progressbar value="counter" class="progress-reservation" max="180">You have {{(counter/60)-(counter%60)/60 | number : 0}}:{{counter%60}} minutes to complete your reservation. </uib-progressbar> </div> </div> <div class="col-xs-12 col-sm-3"> <div class="reservation-profile reservation-prof"> <img ng-src="{{restaurantNameImage.imageFileName}}"> </div> </div> <div class="col-xs-12 col-sm-9"> <h6 class="reservation-det-name">RESTAURANT</h6> <p class="rest-name">{{restaurantNameImage.restaurantName}}</p> <div class="row"> <div class="col-xs-12 col-sm-6"> <h6 class="reservation-det-name">GUESTS</h6> <p class="reservation-info">{{information.persons}}</p> </div> <div class="col-xs-12 col-sm-6"> <h6 class="reservation-det-name">DURATION</h6> <p class="reservation-info">{{information.lengthOfStay}} minutes</p> </div> <div class="col-xs-12 col-sm-6"> <h6 class="reservation-det-name">DATE</h6> <p class="reservation-info">{{information.reservationDate | date:"MMMM d, yyyy"}}</p> </div> <div class="col-xs-12 col-sm-6"> <h6 class="reservation-det-name">TIME</h6> <p class="reservation-info">{{information.reservationHour | date:\'HH:mm\'}}</p> </div> </div> </div> </div> </div> <h5 ng-if="!userLogged" class="warning"><span class="glyphicon glyphicon-exclamation-sign exclamation" aria-hidden="true"></span> Reservation is not secured! Login in or Register to secure your table.</h5> <h5 ng-if="userLogged" class="warning"><span class="glyphicon glyphicon-ok-circle ok" aria-hidden="true"></span> Reservation is secured for the duration of the countdown.</h5> <div ng-if="currentUser"> <h4 class="h4-reservation">Special Request:</h4> <form name="reserveLoggedIn" ng-submit="reservationSubmit()" class="text-center" novalidate> <textarea name="request" rows="1" class="reservation-form-control input-lg input-h request login-form-control" type="text" id="requestLogged" placeholder="Add a special request (optional)" ng-model="request" maxlength="200">\n        </textarea> <button type="submit" class="btn btn-reservation btn-primary btn-block no-border btn-lg input-h btn-submit-reservation center-block" ng-show="information.active"> Complete Reservation </button> <div class="alert alert-danger alert-expired" ng-show="!information.active"> <strong>Expired!</strong> This reservation session is expired and cannot be finalised. </div> <div> <img class="center-block loading" src="../images/ajax-loader.fc2622d3.gif" ng-show="loading"> </div> <p class="terms" ng-show="information.active">By clicking “Complete Reservation” you agree to the AppName Terms of use and Privacy Policy.</p> </form> </div> <div ng-if="!currentUser" ng-controller="SubmitReservationController"> <h4 class="h4-reservation">Already a member? <button class="sign-in" ng-click="signInClick()">Sign in!</button> </h4> <h4 class="h4-reservation">Register</h4> <form name="registerForm" ng-submit="registerSubmit(registerForm.$valid)" class="text-center" novalidate> <div class="row"> <div class="col-xs-12 col-sm-6 form-group"> <input name="firstName" class="login-form-control reservation-form-control input-lg" type="text" id="firstName" placeholder="First Name" ng-model="firstName" required> </div> <div class="col-xs-12 col-sm-6 form-group"> <input name="lastName" class="login-form-control reservation-form-control input-lg" type="text" id="lastName" placeholder="Last Name" ng-model="lastName" required> </div> </div> <div class="row"> <div class="col-xs-12 col-sm-6 form-group" ng-class="{\'has-error\' : registerForm.email.$invalid && !registerForm.email.$pristine}"> <input name="email" class="login-form-control reservation-form-control input-lg" type="email" id="email" placeholder="Email" ng-model="email" required> <p ng-show="registerForm.email.$invalid && !registerForm.email.$pristine" class="help-block">Enter a valid email.</p> </div> <div class="col-xs-12 col-sm-6 form-group" ng-class="{\'has-error\' : registerForm.phone.$touched && !registerForm.phone.$valid  }"> <input name="phone" class="login-form-control reservation-form-control input-lg" type="text" id="phone" placeholder="Phone Number" ng-model="phone" ng-minlength="9" required> <p ng-show="registerForm.phone.$touched && !registerForm.phone.$valid" class="help-block">Phone number must be at least 9 cases long.</p> </div> </div> <div class="row"> <div class="col-xs-12 col-sm-6 form-group"> <input name="password" class="login-form-control reservation-form-control input-lg" type="password" id="password" placeholder="Password" ng-model="password" required> </div> <div class="col-xs-12 col-sm-6 form-group" ng-class="{\'has-error\' : registerForm.confirmPassword.$touched   && confirmPassword!=password}"> <input name="confirmPassword" class="login-form-control reservation-form-control input-lg" type="password" id="confirmPassword" placeholder="Confirm Password" ng-model="confirmPassword" required> <p ng-show=" registerForm.confirmPassword.$touched  && confirmPassword!=password" class="help-block">Passwords do not match.</p> </div> </div> <div class="row"> <div class="col-xs-12 col-sm-6 form-group"> <select class="login-form-control custom-select reservation-form-control input-lg" ng-model="country" ng-options="c.country_name for c in locations" required> <option value="" disabled selected>Country</option> </select> </div> <div class="col-xs-12 col-sm-6 form-group"> <select class="login-form-control reservation-form-control input-lg" ng-model="city" ng-options="d.valueOf() for d in country.city_names" required> <option value="" disabled selected>City</option> </select> </div> </div> <div ng-if="error" class="alert alert-danger">{{error}}</div> <button type="submit" class="btn btn-reservation btn-primary btn-block no-border btn-lg input-h btn-submit-reservation center-block" ng-disabled="registerForm.$invalid"> Register account </button> <div> <img class="center-block loading" src="../images/ajax-loader.fc2622d3.gif" ng-show="loading"> </div> <p class="terms">You need to be logged in to make a reservation.</p> </form> </div> </div> </body> '),a.put("views/restaurant.html",'<body> <script ng-controller="ReviewController as $ctrl" type="text/ng-template" id="myModalContent.html"><div class="modal-header">\n    <div class="glyphicon glyphicon-remove back-icon-review" ng-click="$ctrl.cancel()"></div>\n    <h3 class="modal-title restaurant-h3-rate" id="review-modal-title">Rate this place</h3>\n  </div>\n  <div class="modal-body" id="review-modal-body">\n    <div class="row center-block row-review">\n      <div class="col-12 ">\n        <form class="reviewForm" name="reviewForm" ng-submit="$ctrl.ok()" novalidate>\n\n          <span uib-rating ng-model="rate" class="rate restaurant-rate" on-leave="overStar = null" enable-reset="false"\n                aria-labelledby="default-rating"></span>\n\n          <div class="form-group">\n\n              <textarea name="review" rows="5"\n                        class="form-control restaurant-form-control"\n                        type="text"\n                        id="review"\n                        placeholder="Write a review"\n                        ng-model="review"\n                        required="required"\n              ></textarea>\n          </div>\n          <button type="submit" class="btn btn-restaurant btn-block " ng-disabled="reviewForm.$invalid">Save</button>\n\n        </form>\n      </div>\n    </div>\n\n  </div></script> <div class="restaurant-masthead"> <img ng-src="{{restaurant.coverFileName}}"> </div> <div class="container main"> <div class="row"> <div class="hidden-sm hidden-xs col-md-3"> <div> <div class="profile"> <img ng-src="{{restaurant.imageFileName}}"> </div> <div class="list-group"> <a ng-click="goTo(anchor)" class="list-group-item anchors" ng-repeat="anchor in [\'Reservation\', \'About\', \'Menu\', \'Reviews\', \'Photos\']">{{anchor}}</a> </div> </div> </div> <div class="col-md-9"> <div class="container-info"> <h3 class="restaurant-h3">{{restaurant.restaurantName}}</h3> <ul class="list list-inline"> <li class="restaurant-li middle"> <span class="glyphicon glyphicon-star" ng-repeat="n in range(restaurant.mark)"></span><span class="glyphicon glyphicon-star-empty" ng-repeat="n in range(5-restaurant.mark)"></span> </li> <li class="restaurant-li"> <div>({{restaurant.votes}})</div> </li> <li class="restaurant-li middle"> <span class="glyphicon glyphicon-usd dolar-full-restaurant" ng-repeat="n in range(restaurant.priceRange)"></span><span class="glyphicon glyphicon-usd dolar-empty" ng-repeat="n in range(5-restaurant.priceRange)"></span> </li> <li class="restaurant-li"> {{restaurant.foodType}} </li> <li class="pull-right restaurant-li"> <button ng-controller="ReviewController as $ctrl" type="button" class="btn btn-restaurant btn-block btn-default" style="width: 160px" ng-click="$ctrl.open()">Rate this place </button> </li> </ul> </div> <div class="container-card" id="Reservation" ng-controller="ReservationBarController as $ctrl"> <h5 class="h5-heading-reservation restaurant-h5">Make a free reservation</h5> <form name="reservationForm" ng-submit="checkReservation()"> <div class="row no-gutters"> <div class="col-xs-12 col-sm-6 col-md-2"> <select class="custom-select form-control restaurant-form-control" ng-model="selectedNumber" ng-options="people for people in numberPeople" required> <option value="" selected disabled>Guests</option> </select> </div> <div class="col-xs-12 col-sm-6 col-md-3"> <input type="date" class="form-control restaurant-form-control" ng-model="selectedDate" min="{{minDate | date:\'yyyy-MM-dd\'}}" max="{{maxDate | date:\'yyyy-MM-dd\'}}" value="{{selectedDate  | date:\'yyyy-MM-dd\'}}"> </div> <div class="col-xs-12 col-sm-6 col-md-2"> <input type="time" class="form-control restaurant-form-control" ng-model="selectedTime" step="900" min="{{minTime | date:\'HH:mm\'}}" max="22:00" value="{{selectedTime| date:\'HH:mm\'}}" required> </div> <div class="col-xs-12 col-sm-6 col-md-3"> <select class="custom-select form-control restaurant-form-control" ng-model="selectedLength" ng-options="minutes for minutes in numberMinutes" required> <option value="" selected disabled>Duration (minutes)</option> </select> </div> <div class="col-xs-12 col-sm-12 col-md-2"> <button type="submit" class="btn btn-restaurant btn-block btn-primary form-btn">Find a table</button> </div> </div> </form> <div uib-collapse="AvailabilityErrorColapsed"> <div class="alert alert-warning"> <strong>Sorry!</strong> {{error}}. </div> </div> <div uib-collapse="AvailabilityInfoColapsed"> <h3 class="availability-info restaurant-h3">Availability on {{selectedDate | date:\'MMMM d, yyyy\'}} around {{selectedTime| date:\'HH:mm\'}} for {{selectedNumber}}: </h3> <span class="glyphicon glyphicon-glass" aria-hidden="true"></span> {{tablesLeft}} tables left <h3 class="availability-info restaurant-h3">Select the nearest time that fits your chosen time:</h3> <button type="button" class="btn btn-restaurant btn-block btn-reserv" ng-repeat="time in bestTimes" ng-click="proceedReservation(time)">{{time}} </button> </div> </div> <div id="About" class="container-card"> <h5 class="restaurant-h5">About {{restaurant.restaurantName}}</h5> <div id="map" class="map"></div> <h6 class="desc restaurant-h6">Description</h6> <p class="desc-p restaurant-p"> {{restaurant.description}} </p> </div> <div id="Menu" class="container-card" ng-controller="MenuController as $menu"> <h5 class="menu-heading restaurant-h5">Menu: </h5> <div class="btn-group btn-group-toggle" data-toggle="buttons"> <label class="btn btn-restaurant btn-secondary btn-menu active-menu" ng-click="$menu.getMenu(\'Breakfast\')"> <input type="radio" name="options" id="option1" autocomplete="off" checked> Breakfast </label> <label class="btn btn-restaurant btn-secondary btn-menu" ng-click="$menu.getMenu(\'Lunch\')"> <input type="radio" name="options" id="option2" autocomplete="off"> Lunch </label> <label class="btn btn-restaurant btn-secondary btn-menu" ng-click="$menu.getMenu(\'Dinner\')"> <input type="radio" name="options" id="option3" autocomplete="off"> Dinner </label> </div> <hr> <div class="menu-items" ng-style="{\'max-height\': $menu.myHeight}"> <div> <div class="dish-type-row" ng-repeat="dishType in arrayDishes"> <h6 class="type-title restaurant-h6"> {{dishType[0].dishType}}</h6> <hr> <div class="row no-gutters dish-row" ng-repeat="dish in dishType"> <div class="col-xs-3"> {{dish.name}} </div> <div class="col-xs-6"> </div> <div class="col-xs-3 price"> {{dish.price | currency : "$ " : 2}} </div> <p class="menu-dish-description restaurant-p">{{dish.description}}</p> </div> </div> </div> </div> <div class="fadeout"></div> <button class="btn btn-restaurant btn-block see-full-menu center-block" ng-click="$menu.showMenu()">{{$menu.text}}</button> </div> <div id="Reviews" class="container-card"> <h5 class="h5-heading-reservation review-h5 restaurant-h5">Reviews</h5> <div class="review-card"> <h6 class="restaurant-h6" ng-show="noReviews">No available reviews for this restaurant ...</h6> <div class="review-item" ng-repeat="review in reviews"> <hr> <h6 class="review-item-name restaurant-h6"> {{review.name}} </h6> <span class="glyphicon glyphicon-star" ng-repeat="n in range(review.mark)"></span><span class="glyphicon glyphicon-star-empty" ng-repeat="n in range(5-review.mark)"></span> <p class="restaurant-p">{{review.comment}}</p> <p class="review-time restaurant-p">{{review.insertTime | date:\'yyyy-MM-dd\'}}</p> </div> </div> </div> </div> </div> <a id="Photos"></a> </div> </body>'),a.put("views/restaurants.html",'<body> <div class="container text-center container-restaurants filter-container"> <div class="row no-gutters form-row search-filter-row"> <form ng-submit="filter()"> <div class="col-xs-12 col-md-10 search-filter-col"> <input type="search" ng-model="searchText" class="form-control home-form-control form-control-lg" placeholder="Location, Restaurant or Cousine "> </div> <div class="col-xs-12 col-md-1 search-filter-col"> <div class="btn-group" uib-dropdown auto-close="outsideClick"> <button id="single-button" type="button" class="btn btn-home filter-dropdown btn-primary btn-block" uib-dropdown-toggle ng-disabled="disabled"> Filter by <span class="caret"></span> </button> <ul class="dropdown-menu" uib-dropdown-menu role="menu" aria-labelledby="single-button"> <li role="menuitem"> <ul class="list-inline filter-inline-drop"> <li class="filter-item"> <ul class="list-unstyled"> <li> <h5 class="filter-heading">PRICE</h5> </li> <li> <span uib-rating ng-model="price" class="restaurants-rate" on-leave="overStar = null" state-on="\'glyphicon glyphicon-usd glyph-filter-full\'" state-off="\'glyphicon glyphicon-usd glyph-filter-empty\'" aria-labelledby="default-rating"></span> </li> </ul> </li> <li class="filter-item"> <ul class="list-unstyled"> <li> <h5 class="filter-heading">RATING</h5> </li> <li> <span uib-rating ng-model="rate" class="restaurants-rate" on-leave="overStar = null" state-on="\'glyphicon glyphicon-star glyph-filter-full\'" state-off="\'glyphicon glyphicon-star-empty glyph-filter-empty\'" aria-labelledby="default-rating"></span> </li> </ul> </li> </ul> </li> <li class="divider"></li> <li role="menuitem" class="filter-item"> <h5 class="filter-heading">COUSINE</h5> </li> <li role="menuitem"> <ul class="list-inline filter-inline-drop"> <li class="filter-item"> <select class="restaurants-select" multiple id="categorymultipleleft" ng-model="categoriesLeft[$index]" ng-options="category.name for category in categories.left track by category.id" size="{{categories.left.length+categories.left.length/2}}"></select> </li> <li class="filter-item left-cats"> <select class="restaurants-select" multiple id="categorymultipleright" ng-model="categoriesRight[$index]" ng-options="category.name for category in categories.right track by category.id" size="{{categories.right.length+categories.right.length/2}}"></select> </li> </ul> </li> </ul> </div> </div> <div class="col-xs-12 col-md-1 search-filter-col"> <button type="submit" class="btn btn-home btn-block btn-primary form-btn">Search</button> </div> </form> </div> <div class="row filter-row"> <img src="../images/ajax-loader.fc2622d3.gif" ng-show="loading"> <div class="no-results" ng-show="noResults"> <h3>No restaurants where found!</h3> </div> <div class="col-sm-6 col-md-4" ng-repeat="y in restaurants" ng-show="!loading && !noResults"> <div class="card"> <img ng-src="{{y.imageFileName}}"> <div class="container"> <h3> {{y.restaurantName}} </h3> <ul class="list list-inline"> <li class="middle"> <span class="glyphicon glyphicon-star" ng-repeat="n in range(y.mark)"></span><span class="glyphicon glyphicon-star-empty" ng-repeat="n in range(5-y.mark)"></span> </li> <li> <span>({{y.votes}})</span> </li> <li class="middle"> <span class="glyphicon glyphicon-usd dolar-full" ng-repeat="n in range(y.priceRange)"></span><span class="glyphicon glyphicon-usd dolar-empty" ng-repeat="n in range(5-y.priceRange)"></span> </li> </ul> <hr> <p style="color: gray"> {{y.foodType}} </p> </div> <button type="button" class="btn btn-home btn-block" ng-click="save(y)">Reserve Now</button> </div> </div> </div> <ul uib-pagination total-items="numPages" ng-model="bigCurrentPage" max-size="maxSize" class="pagination-sm" boundary-link-numbers="true" ng-change="filter()" ng-show="!noResults"></ul> </div> <div class="container popular-loc"> <h3 class="text-center">Popular locations</h3> <div class="row popular-locations-row"> <div class="col-xs-6 col-sm-3 col-md-3 text-left" ng-model="name" ng-repeat="name in popularLocations"> <button class="btn-location center-block pop-loc-info" ng-click="filterLocations(name.location)"> <h4>{{name.location}}</h4> <p class="number">{{name.num}} restaurants</p> </button> </div> </div> </div> </body>')}]);